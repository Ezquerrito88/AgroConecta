<div class="catalogo-container">
  
  <header class="catalogo-header">
    <h1 class="page-title">Catálogo de Productos</h1>
    <div class="breadcrumbs">
      <a routerLink="/" class="breadcrumb-link">Inicio</a>
      <span class="breadcrumb-separator">></span>
      <span class="breadcrumb-current">Productos</span>
    </div>
  </header>

  <div class="catalogo-layout">
    
    <aside class="filters-sidebar">
      <div class="filters-header">
        <h2>Filtros</h2>
        <button class="clear-filters-btn" (click)="limpiarFiltros()">
          <i class="fa-solid fa-filter-circle-xmark"></i>
        </button>
      </div>

      <div class="filter-group">
        <label class="filter-label">
          <i class="fa-solid fa-tags"></i> Categoría
        </label>
        <select [(ngModel)]="filtros.categoria">
          <option value="todas">Todas</option>
          <option value="frutas">Frutas</option>
          <option value="verduras">Verduras</option>
        </select>
      </div>

      <div class="filter-group">
        <label class="filter-label">
          <i class="fa-solid fa-coins"></i> Precio
        </label>
        <div class="price-range">
          <input type="range" min="0" max="50" [(ngModel)]="filtros.precioMax" class="price-slider">
          <div class="price-values">
            <span>0€</span>
            <span>{{ filtros.precioMax }}€</span>
          </div>
        </div>
      </div>

      <div class="filter-group">
        <label class="filter-label">
          <i class="fa-solid fa-location-dot"></i> Ubicación
        </label>
        <select [(ngModel)]="filtros.ubicacion">
          <option value="todas">Todas</option>
          <option value="logrono">Logroño</option>
          <option value="calahorra">Calahorra</option>
        </select>
      </div>

      <div class="filter-group">
        <label class="filter-label">
          <i class="fa-solid fa-star"></i> Valoración
        </label>
        <select [(ngModel)]="filtros.valoracion">
          <option value="todas">Todas</option>
          <option value="4">4 estrellas o más</option>
          <option value="3">3 estrellas o más</option>
        </select>
      </div>
    </aside>

    <main class="catalogo-main">
      
      <div class="results-header">
        <p class="results-count">Mostrando 1-12 de 145 productos</p>
        <div class="sort-box">
          <select [(ngModel)]="filtros.orden">
            <option value="novedad">Novedad</option>
            <option value="precio_asc">Precio: Menor a Mayor</option>
            <option value="precio_desc">Precio: Mayor a Menor</option>
          </select>
        </div>
      </div>

      <div class="products-grid">
        <div class="product-card" *ngFor="let prod of productos">
          
          <div class="card-image">
            <button class="favorite-btn" [class.active]="prod.esFavorito" (click)="toggleFavorito(prod)">
              <i [class]="prod.esFavorito ? 'fa-solid fa-heart' : 'fa-regular fa-heart'"></i>
            </button>
            <img [src]="prod.imagen" [alt]="prod.nombre">
          </div>

          <div class="card-content">
            <h3 class="product-name">{{ prod.nombre }}</h3>
            
            <div class="seller-info">
              <img [src]="prod.vendedor.avatar" [alt]="prod.vendedor.nombre" class="seller-avatar">
              <div class="seller-details">
                <span class="seller-name">{{ prod.vendedor.nombre }}</span>
                <span class="seller-location">
                  <i class="fa-solid fa-location-dot"></i> {{ prod.vendedor.ubicacion }}
                </span>
              </div>
            </div>

            <div class="rating-box">
              <div class="stars">
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star-half-stroke"></i>
              </div>
              <span class="rating-value">{{ prod.valoracion }}</span>
            </div>

            <div class="card-footer">
              <div class="price-box">
                <span class="price">{{ prod.precio }}€</span>
                <span class="unit">/{{ prod.unidad }}</span>
              </div>
              <button class="add-to-cart-btn">
                <i class="fa-solid fa-plus"></i> Añadir
              </button>
            </div>
          </div>
        </div> </div> <div class="pagination">
        <button class="page-btn prev"><i class="fa-solid fa-chevron-left"></i></button>
        <button class="page-btn active">1</button>
        <button class="page-btn">2</button>
        <button class="page-btn">3</button>
        <button class="page-btn">4</button>
        <button class="page-btn next"><i class="fa-solid fa-chevron-right"></i></button>
      </div>
    </main>

  </div>
</div>